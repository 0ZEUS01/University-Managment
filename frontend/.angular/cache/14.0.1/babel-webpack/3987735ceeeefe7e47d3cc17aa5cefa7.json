{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/common\";\n\nconst _c0 = function () {\n  return [\"/student/dashboard\"];\n};\n\nconst _c1 = function () {\n  return [\"/student/courses\"];\n};\n\nconst _c2 = function () {\n  return [\"/student/grades\"];\n};\n\nconst _c3 = function () {\n  return [\"/student/profile\"];\n};\n\nexport let StudentProfileComponent = /*#__PURE__*/(() => {\n  class StudentProfileComponent {\n    constructor(authService, fb) {\n      this.authService = authService;\n      this.fb = fb;\n      this.profile = {\n        fullName: 'Amal Hida',\n        email: 'amal.hida@gmail.com',\n        username: 'AmalHida',\n        enrollmentDate: new Date('2024-09-01'),\n        major: 'Computer Science',\n        dateOfBirth: new Date('2003-05-15'),\n        nationality: 'Moroccan',\n        emergencyContact: {\n          name: 'Hassan Hida',\n          relationship: 'Father',\n          phoneNumber: '+212 6 12 34 56 78'\n        },\n        academicStatus: 'Active',\n        scholarshipStatus: true,\n        phoneNumber: '+1 (555) 123-4567',\n        address: '123 Campus Drive, University City, State 12345',\n        personalInfo: {\n          gender: 'Female',\n          maritalStatus: 'Single',\n          languages: ['Arabic', 'English', 'French']\n        },\n        educationBackground: {\n          highSchool: 'Lycée Mohammed V, Casablanca',\n          highSchoolGradYear: 2021,\n          previousDegrees: [{\n            degree: 'High School Diploma',\n            institution: 'Lycée Mohammed V',\n            graduationYear: 2021\n          }]\n        },\n        contactInfo: {\n          personalEmail: 'amal.hida@gmail.com',\n          workEmail: 'amal.hida@university.edu',\n          homePhone: '+212 5 22 33 44 55',\n          socialMedia: {\n            linkedin: 'linkedin.com/in/amalhida',\n            twitter: '@AmalHida',\n            facebook: 'facebook.com/amal.hida'\n          }\n        }\n      };\n      this.isEditing = false;\n    }\n\n    ngOnInit() {\n      const currentUser = this.authService.currentUserValue;\n\n      if (currentUser) {\n        this.profile.username = currentUser.username;\n      }\n\n      this.initForm();\n    }\n\n    initForm() {\n      var _a, _b, _c;\n\n      this.profileForm = this.fb.group({\n        fullName: [this.profile.fullName, Validators.required],\n        email: [this.profile.email, [Validators.required, Validators.email]],\n        phoneNumber: [this.profile.phoneNumber],\n        address: [this.profile.address],\n        dateOfBirth: [this.profile.dateOfBirth],\n        nationality: [this.profile.nationality],\n        gender: [this.profile.personalInfo.gender],\n        maritalStatus: [this.profile.personalInfo.maritalStatus],\n        languages: [this.profile.personalInfo.languages.join(', ')],\n        highSchool: [this.profile.educationBackground.highSchool],\n        highSchoolGradYear: [this.profile.educationBackground.highSchoolGradYear],\n        personalEmail: [this.profile.contactInfo.personalEmail],\n        workEmail: [this.profile.contactInfo.workEmail],\n        homePhone: [this.profile.contactInfo.homePhone],\n        linkedin: [(_a = this.profile.contactInfo.socialMedia) === null || _a === void 0 ? void 0 : _a.linkedin],\n        twitter: [(_b = this.profile.contactInfo.socialMedia) === null || _b === void 0 ? void 0 : _b.twitter],\n        facebook: [(_c = this.profile.contactInfo.socialMedia) === null || _c === void 0 ? void 0 : _c.facebook],\n        emergencyContactName: [this.profile.emergencyContact.name],\n        emergencyContactRelationship: [this.profile.emergencyContact.relationship],\n        emergencyContactPhone: [this.profile.emergencyContact.phoneNumber]\n      });\n    }\n\n    toggleEdit() {\n      this.isEditing = !this.isEditing;\n\n      if (!this.isEditing) {\n        this.initForm(); // Reset form when canceling\n      }\n    }\n\n    updateProfile() {\n      if (this.profileForm.valid) {\n        const formValue = this.profileForm.value; // Update profile with form values\n\n        this.profile = Object.assign(Object.assign({}, this.profile), {\n          fullName: formValue.fullName,\n          email: formValue.email,\n          phoneNumber: formValue.phoneNumber,\n          address: formValue.address,\n          dateOfBirth: formValue.dateOfBirth,\n          nationality: formValue.nationality,\n          personalInfo: {\n            gender: formValue.gender,\n            maritalStatus: formValue.maritalStatus,\n            languages: formValue.languages.split(',').map(lang => lang.trim())\n          },\n          educationBackground: {\n            highSchool: formValue.highSchool,\n            highSchoolGradYear: formValue.highSchoolGradYear,\n            previousDegrees: this.profile.educationBackground.previousDegrees\n          },\n          contactInfo: {\n            personalEmail: formValue.personalEmail,\n            workEmail: formValue.workEmail,\n            homePhone: formValue.homePhone,\n            socialMedia: {\n              linkedin: formValue.linkedin,\n              twitter: formValue.twitter,\n              facebook: formValue.facebook\n            }\n          },\n          emergencyContact: {\n            name: formValue.emergencyContactName,\n            relationship: formValue.emergencyContactRelationship,\n            phoneNumber: formValue.emergencyContactPhone\n          }\n        });\n        this.isEditing = false;\n      }\n    }\n\n    logout() {\n      this.authService.logout(); // Navigate to login page\n    }\n\n  }\n\n  StudentProfileComponent.ɵfac = function StudentProfileComponent_Factory(t) {\n    return new (t || StudentProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  StudentProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StudentProfileComponent,\n    selectors: [[\"app-student-profile\"]],\n    decls: 119,\n    vars: 34,\n    consts: [[1, \"student-layout\"], [1, \"sidebar\"], [1, \"logo\"], [\"src\", \"assets/logo.png\", \"alt\", \"App Logo\"], [3, \"routerLinkActive\"], [3, \"routerLink\"], [1, \"material-icons\"], [3, \"click\"], [1, \"main-content\"], [1, \"header-title\"], [1, \"profile-content\"], [1, \"profile-container\"], [1, \"profile-header\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"profile-details\"], [1, \"detail-row\"], [1, \"detail-label\"], [1, \"detail-value\"], [1, \"detail-row\", \"emergency-contact\"]],\n    template: function StudentProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"nav\")(5, \"ul\")(6, \"li\", 4)(7, \"a\", 5)(8, \"i\", 6);\n        i0.ɵɵtext(9, \"dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \" Dashboard \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"li\", 4)(12, \"a\", 5)(13, \"i\", 6);\n        i0.ɵɵtext(14, \"book\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \" My Courses \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"li\", 4)(17, \"a\", 5)(18, \"i\", 6);\n        i0.ɵɵtext(19, \"grade\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \" Grades \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"li\", 4)(22, \"a\", 5)(23, \"i\", 6);\n        i0.ɵɵtext(24, \"person\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25, \" Profile \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"li\", 7);\n        i0.ɵɵlistener(\"click\", function StudentProfileComponent_Template_li_click_26_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵelementStart(27, \"a\")(28, \"i\", 6);\n        i0.ɵɵtext(29, \"exit_to_app\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(30, \" Logout\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(31, \"div\", 8)(32, \"header\")(33, \"div\", 9)(34, \"h1\");\n        i0.ɵɵtext(35, \"My Profile\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 10)(37, \"div\", 11)(38, \"div\", 12)(39, \"h2\");\n        i0.ɵɵtext(40, \"Student Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function StudentProfileComponent_Template_button_click_41_listener() {\n          return ctx.updateProfile();\n        });\n        i0.ɵɵtext(42, \"Edit Profile\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 10)(44, \"mat-card\")(45, \"mat-card-header\")(46, \"mat-card-title\");\n        i0.ɵɵtext(47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"mat-card-subtitle\");\n        i0.ɵɵtext(49);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"mat-card-content\")(51, \"div\", 14)(52, \"div\", 15)(53, \"span\", 16);\n        i0.ɵɵtext(54, \"Email:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(55, \"span\", 17);\n        i0.ɵɵtext(56);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(57, \"div\", 15)(58, \"span\", 16);\n        i0.ɵɵtext(59, \"Enrollment Date:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"span\", 17);\n        i0.ɵɵtext(61);\n        i0.ɵɵpipe(62, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"div\", 15)(64, \"span\", 16);\n        i0.ɵɵtext(65, \"Major:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"span\", 17);\n        i0.ɵɵtext(67);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(68, \"div\", 15)(69, \"span\", 16);\n        i0.ɵɵtext(70, \"Full Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"span\", 17);\n        i0.ɵɵtext(72);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(73, \"div\", 15)(74, \"span\", 16);\n        i0.ɵɵtext(75, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"span\", 17);\n        i0.ɵɵtext(77);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(78, \"div\", 15)(79, \"span\", 16);\n        i0.ɵɵtext(80, \"Phone Number:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"span\", 17);\n        i0.ɵɵtext(82);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(83, \"div\", 15)(84, \"span\", 16);\n        i0.ɵɵtext(85, \"Date of Birth:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(86, \"span\", 17);\n        i0.ɵɵtext(87);\n        i0.ɵɵpipe(88, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(89, \"div\", 15)(90, \"span\", 16);\n        i0.ɵɵtext(91, \"Nationality:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(92, \"span\", 17);\n        i0.ɵɵtext(93);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(94, \"div\", 15)(95, \"span\", 16);\n        i0.ɵɵtext(96, \"Address:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(97, \"span\", 17);\n        i0.ɵɵtext(98);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(99, \"div\", 15)(100, \"span\", 16);\n        i0.ɵɵtext(101, \"Academic Status:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"span\", 17);\n        i0.ɵɵtext(103);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(104, \"div\", 15)(105, \"span\", 16);\n        i0.ɵɵtext(106, \"Scholarship Status:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(107, \"span\", 17);\n        i0.ɵɵtext(108);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(109, \"div\", 18)(110, \"span\", 16);\n        i0.ɵɵtext(111, \"Emergency Contact:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(112, \"div\", 17)(113, \"div\");\n        i0.ɵɵtext(114);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(115, \"div\");\n        i0.ɵɵtext(116);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(117, \"div\");\n        i0.ɵɵtext(118);\n        i0.ɵɵelementEnd()()()()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"routerLinkActive\", \"active\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLinkActive\", \"active\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c1));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLinkActive\", \"active\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(32, _c2));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLinkActive\", \"active\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(33, _c3));\n        i0.ɵɵadvance(25);\n        i0.ɵɵtextInterpolate(ctx.profile.fullName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.profile.major, \" Student\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.profile.email);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(62, 24, ctx.profile.enrollmentDate, \"mediumDate\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.profile.major);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.fullName);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.username);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.phoneNumber);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(88, 27, ctx.profile.dateOfBirth, \"mediumDate\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.profile.nationality);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.address);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.academicStatus);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.profile.scholarshipStatus ? \"Awarded\" : \"Not Awarded\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.profile.emergencyContact.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.profile.emergencyContact.relationship);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.profile.emergencyContact.phoneNumber);\n      }\n    },\n    dependencies: [i3.RouterLinkWithHref, i3.RouterLinkActive, i4.MatButton, i5.MatCard, i5.MatCardHeader, i5.MatCardContent, i5.MatCardTitle, i5.MatCardSubtitle, i6.DatePipe],\n    styles: [\".student-layout[_ngcontent-%COMP%]{display:flex;height:100vh;background-color:#f4f6f9}.sidebar[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#fff;padding:20px 0;display:flex;flex-direction:column}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px}.main-content[_ngcontent-%COMP%]{flex-grow:1;padding:30px;overflow-y:auto}.profile-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;padding:30px;max-width:800px;margin:0 auto}.profile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;border-bottom:2px solid #f1f3f5;padding-bottom:15px}.profile-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:24px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px 0;border-bottom:1px solid #eee;transition:background-color .3s ease}.detail-row[_ngcontent-%COMP%]:hover{background-color:#00000005}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#666;flex-basis:40%}.detail-value[_ngcontent-%COMP%]{color:#2c3e50;font-weight:500;text-align:right;flex-basis:60%}.profile-edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}@media (max-width: 768px){.student-layout[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;flex-direction:row;height:auto}.main-content[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]{padding:15px}}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 20px;cursor:pointer;transition:background-color .3s ease}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#fff3}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;text-decoration:none}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}\"]\n  });\n  return StudentProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}